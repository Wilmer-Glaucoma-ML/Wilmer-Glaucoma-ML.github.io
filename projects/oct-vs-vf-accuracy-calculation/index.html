<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>VF and OCT Accuracy to Detect Glaucoma Worsening | Wilmer Glaucoma ML</title> <meta name="author" content="Wilmer Glaucoma Machine Learning"/> <meta name="description" content="Exploring the intersection of glaucoma and machine learning to improve patient care. "/> <meta name="keywords" content="johns-hopkins, wilmer, glaucoma, glaucoma-machine-learning, wilmer-eye-institute, wilmer-ml, wilmer-machine-learning, wilmer machine learning, wilmer ml, wilmer eye institute, glaucoma machine learning, wilmer, johns hopkins, johns hopkins medicine, jhu, jhmi"/> <meta property="og:site_name" content="Wilmer Glaucoma ML"/> <meta property="og:type" content="website"/> <meta property="og:title" content="Wilmer Glaucoma ML | VF and OCT Accuracy to Detect Glaucoma Worsening"/> <meta property="og:url" content="https://Wilmer-Glaucoma-ML.github.io/projects/oct-vs-vf-accuracy-calculation/"/> <meta property="og:description" content="Exploring the intersection of glaucoma and machine learning to improve patient care. "/> <meta property="og:image" content="/assets/img/og_image.png"/> <meta property="og:locale" content="en"/> <meta name="twitter:card" content="summary"/> <meta name="twitter:title" content="VF and OCT Accuracy to Detect Glaucoma Worsening"/> <meta name="twitter:description" content="Exploring the intersection of glaucoma and machine learning to improve patient care. "/> <meta name="twitter:image" content="/assets/img/og_image.png"/> <meta name="google-site-verification" content="F9ABv8Eopi3XtBe6upSv1mTrjJn0vJC0GcENKmBmjBc"/> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"/> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="none" id="highlight_theme_light"/> <link rel="apple-touch-icon" sizes="180x180" href="/assets/img/apple-touch-icon.png"> <link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicon-32x32.png"> <link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicon-16x16.png"> <link rel="manifest" href="/assets/img/site.webmanifest"> <link rel="mask-icon" href="/assets/img/safari-pinned-tab.svg" color="#5bbad5"> <link rel="shortcut icon" href="/assets/img/favicon.ico"> <meta name="msapplication-TileColor" content="#da532c"> <meta name="msapplication-config" content="/assets/img/browserconfig.xml"> <meta name="theme-color" content="#ffffff"> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="https://wilmer-glaucoma-ml.github.io/projects/oct-vs-vf-accuracy-calculation/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"/> <script src="/assets/js/theme.js"></script> <script src="/assets/js/dark_mode.js"></script> </head> <body class="fixed-top-nav sticky-bottom-footer"> <body> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <div class="navbar-logo"> <a href="/"> <img src="/assets/img/navbar_image2.png" class="home-icon"> </a> </div> <a class="navbar-brand title font-weight-lighter" href="/">Wilmer Glaucoma ML</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About</a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">Projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">Publications</a> </li> <li class="nav-item "> <a class="nav-link" href="/team/">Team</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">VF and OCT Accuracy to Detect Glaucoma Worsening</h1> <p class="post-description"></p> </header> <article> <style>.post-header{text-align:center}table,th,td{border:1px solid black}label{display:inline;clear:left;text-align:left;outline:0}input[type="value"]{outline:none!important;display:inline;width:9ch;text-align:center;border:2px solid black;border-radius:0}</style> This calculator is valid for estimating accuracy over a 2-year period. However, VF and OCT measurement frequencies should be entered on a per-year basis. <p></p> <div class="form-group"> <label id="vfFreq-label" for="vfFreq"><b>Number of VFs per year   </b></label> <input type="value" name="vfFreq" id="vfFreqInput" class="form-control" required=""> </div> <div class="form-group"> <label id="measurementInVF1-label" for="measurementInVF1"> <b>Rate of VF worsening in   </b></label> <input type="value" name="measurementInVF1" id="measurementInputVF1" class="form-control" required=""> <b>dB/year</b> </div> <hr> <div class="form-group"> <label id="octFreq-label" for="octFreq"><b>Number of OCTs per year </b></label> <input type="value" name="octFreq" id="octFreqInput" class="form-control" required=""> </div> <div class="form-group"> <label id="measurementInOCT1-label" for="measurementInOCT1"><b>Rate of OCT worsening in </b></label> <input type="value" name="measurementInOCT1" id="measurementInputOCT1" class="form-control" required=""> <b>µm/year</b> </div> <div class="buttondiv"> <button type="button" id="submit" class="submit-button" onclick="getInputValue()">Calculate</button> </div> <p></p> <div class="eqnAnswer"><center> <p id="result"><b>Accuracy of detecting glaucoma worsening</b></p> </center></div> <table class="tb" id="accuracyTable" style="width:100%"> <caption style="caption-side:bottom"><font size="-1">Accuracy is defined as the percentage of patients for whom the estimated "true" rate of RNFL or MD worsening — the rate without measurement error — is at or below the criterion rate(s) entered in the fields above. Accuracy was estimated from adult patients treated at the Wilmer Eye Institute for glaucoma or glaucoma suspect status from 2013-2021.</font></caption> <tr> <td style="text-align:center"><b>VF Accuracy (%)</b></td> <td style="text-align:center"><b>OCT Accuracy (%)</b></td> <td style="text-align:center"><b>Combined Accuracy (%)</b></td> </tr> <tr> <td style="text-align:center"> </td> <td style="text-align:center"> </td> <td style="text-align:center"> </td> </tr> </table> <p></p> <center><b>Percentile rate of RNFL thickness or MD worsening</b></center> <br> <table class="tb" id="pctTable" style="width:100%"> <caption style="caption-side:bottom"><font size="-1">The corresponding percentile rate of RNFL and/or MD worsening for the rates entered in the fields above based on an OCT sample of 12,150 eyes from 7,392 patients and a VF sample of 20,583 eyes from 10,958 patients.</font></caption> <tr> <td style="text-align:center"><b>VF Percentile (%)</b></td> <td style="text-align:center"><b>OCT Percentile (%)</b></td> </tr> <tr> <td style="text-align:center"> </td> <td style="text-align:center"> </td> </tr> </table> </article> </div> </div> </body></body> <script>function accuracyEqn(e,r,t){if(e=2*e+1,"vf"==t){const e={coef1:[.190479757,.223652646,.240565754,.25506804,.268316951,.278997972,.286546959,.294022053,.299776696,.306077907,.312791273,.320444755,.328436473,.336484647,.345284608,.354453719,.363793116,.370818444,.378462381,.38688114,.395880937,.402951587,.411322427,.41998632,.428177898,.437260048,.445671172,.454137583,.462847222,.471153507,.479536375,.487988654,.496396101,.50478851,.513602547,.522089676,.530245102,.53885268,.54736018,.555686883,.564053794,.572725508,.580857411,.589373409,.597666194,.605872789,.614307008,.623002664,.631558161,.639744857],coef2:[-.06041798,-.066359787,-.074531655,-.080669621,-.084999058,-.085814752,-.084099306,-.082535574,-.079634789,-.076995367,-.073601837,-.07120895,-.068627667,-.066425077,-.064331883,-.062588237,-.06118427,-.058473066,-.0558686,-.054109654,-.053016401,-.050437505,-.048861819,-.047637771,-.045879454,-.045139835,-.043517384,-.042098482,-.04078574,-.039490299,-.03807006,-.03704648,-.036178284,-.035116476,-.034529478,-.033730731,-.032743137,-.031969275,-.031330375,-.030424242,-.029747191,-.029353868,-.028280956,-.027641885,-.026793469,-.025912759,-.025431125,-.02527389,-.024962652,-.024181651],coef3:[.045527569,.047352334,.04889447,.049296853,.049339206,.048587534,.046924293,.045291282,.043245747,.041354745,.039502305,.038044452,.036682253,.035357956,.034332855,.03340215,.032585995,.031353617,.030159661,.029229359,.028542603,.027370194,.026603544,.025993015,.025164408,.024632628,.023926903,.023263134,.022680439,.022084466,.021467283,.020900937,.020391343,.019910315,.01954054,.019102851,.018571945,.018185832,.017786483,.017378583,.01700327,.016717034,.016261021,.01590464,.01549048,.015100516,.014797525,.01458047,.014318877,.013954276]};var n=e.coef1[r],o=e.coef2[r],a=e.coef3[r]}else{const e={coef1:[.822690159,.793945489,.730533405,.589983103,.533914205,.491102554,.458007414,.431223757,.420185995,.414983281,.412228807,.412641231,.415463034,.419753292,.423068375,.428292969,.436120729,.442247358,.449541672,.457060536,.463816713,.469437265,.475638675,.482555582,.489221053,.495829808,.502234568,.509338581,.516922551,.524523218,.532081511,.539844431,.5473206,.555056817,.562926995,.571086904,.579001527,.585931753,.594183503,.601886015,.609985808,.617472844,.625352327,.633011309,.641304675,.649346536,.656971262,.664899912,.672521023,.680167706],coef2:[-.008314292,-.032211032,-.004467137,.03043717,.008564705,-.020894607,-.044184804,-.050345584,-.056031653,-.06024591,-.060154992,-.061197386,-.06071026,-.059746806,-.059179924,-.058264602,-.057989043,-.056471821,-.055329258,-.054658946,-.053177686,-.051272196,-.049749402,-.048142539,-.046890517,-.04538224,-.043532434,-.042026527,-.040957929,-.039786755,-.03855801,-.037523299,-.036745078,-.035532288,-.034532526,-.0338042,-.032851818,-.031625267,-.03123376,-.030439212,-.029864763,-.028887948,-.028216255,-.027475399,-.027342323,-.02696894,-.026231624,-.025883057,-.025363683,-.024688808],coef3:[.012032007,.018014356,.012613292,.011711992,.022474625,.0331204,.039687026,.040200388,.040566082,.040634876,.03973449,.039018301,.038152903,.037290654,.036253457,.03527301,.034704043,.033741618,.03300032,.032375419,.031521536,.030433141,.029466941,.028545242,.027795006,.02692258,.025972371,.025116939,.024501165,.023903164,.023258957,.022651519,.022122248,.02155156,.020999924,.02055514,.020047982,.019420669,.019078847,.018591768,.018230707,.017714526,.01734582,.016909745,.016646404,.016356228,.015924305,.015619082,.015273325,.014877935]};n=e.coef1[r],o=e.coef2[r],a=e.coef3[r]}return 100*(n+o*Math.log(e)+a*Math.log(e)**2)}function combinedAccuracy(e,r){return vf_cd=e/100,oct_vd=r/100,100*(vf_cd+oct_vd-vf_cd*oct_vd)}function calculateAccuracy(e,r,t,n){const o=[.99,.98,.97,.96,.95,.94,.93,.92,.91,.9,.89,.88,.87,.86,.85,.84,.83,.82,.81,.8,.79,.78,.77,.76,.75,.74,.73,.72,.71,.7,.69,.68,.67,.66,.65,.64,.63,.62,.61,.6,.59,.58,.57,.56,.55,.54,.53,.52,.51,.5],a=[-2.375374179,-1.87072991,-1.55882768,-1.354906634,-1.209968329,-1.10005846,-1.004460165,-.922879731,-.850669103,-.788616302,-.73812498,-.694618166,-.657602418,-.622323225,-.594619155,-.569041382,-.545408203,-.51918586,-.495643593,-.474408781,-.455362716,-.43417603,-.41702764,-.401546448,-.38535631,-.370813706,-.357395279,-.344351564,-.332899923,-.32056724,-.30908592,-.296439662,-.284030788,-.273758069,-.263631487,-.253395759,-.242297973,-.2336445,-.223724021,-.215218543,-.206087714,-.197988734,-.189993294,-.182100379,-.174189643,-.166953802,-.159186689,-.151801921,-.144212655,-.137260077],c=[-59.10676741,-21.06141589,-10.61985367,-6.43719542,-4.867978254,-3.929476474,-3.29888707,-2.868740323,-2.575112527,-2.348728534,-2.172631297,-2.020366034,-1.899064351,-1.797026962,-1.68954472,-1.602117914,-1.533984613,-1.464555097,-1.407078688,-1.350655596,-1.296282342,-1.237350255,-1.181807662,-1.134068909,-1.088528277,-1.04379893,-1.000612736,-.961338114,-.92650516,-.894411349,-.862917964,-.831970156,-.798927213,-.772183197,-.7445282,-.718996287,-.69435203,-.664350749,-.639762671,-.61411954,-.591691858,-.566843864,-.546191311,-.522478076,-.500657912,-.48070557,-.457669937,-.436351304,-.415084497,-.39408508];if(t<a[0]||t>0)throw new Error("VF rate is out of range. Please enter a value between our 99th percentile (-2.375) and 0.");if(n<c[0]||n>0)throw new Error("OCT rate is out of range. Please enter a value between our 99th percentile (-59.11) and 0.");const i=(e=[],r=1)=>{const t=2;return e.sort((e,t)=>{const n=Math.abs(e-r),o=Math.abs(t-r);return n===o?e-t:n-o}).slice(0,t).sort((e,r)=>e-r)};var s=i([...a],t),u=s[0],l=s[1],f=Math.abs(u-l),w=Math.max(u,l),h=Math.abs(t-w)/f,m=a.indexOf(w),d=100*o[m]+h,g=i([...c],n),b=g[0],M=g[1],y=Math.abs(b-M),N=Math.max(b,M),v=Math.abs(n-N)/y,T=c.indexOf(N),E=100*o[T]+v,F=accuracyEqn(e,m,"vf"),L=accuracyEqn(r,T,"oct");return[F,d,L,E,combinedAccuracy(F,L)]}function getSignificantDigitCount(e){var r=!1;if(-1!=e.indexOf(".")&&(e+=1,r=!0),0==(e=Math.abs(e.replace(".",""))))return 1;for(;0!=e&&e%10==0;)e/=10;return r?Math.floor(Math.log(e)/Math.LN10):Math.floor(Math.log(e)/Math.LN10)+1}function getInputValue(){var e=Number(document.getElementById("vfFreqInput").value),r=document.getElementById("measurementInputVF1").value,t=Number(document.getElementById("octFreqInput").value),n=document.getElementById("measurementInputOCT1").value,o=!1,a=!1;if(t||n)if(e||r){if(isNaN(e))throw new Error("VF frequency is not a number.");if(e<1||e>12)throw new Error("VF frequency must be greater than 1 and less than 12, as we only calculated accuracy for that range.");if(isNaN(Number(r)))throw new Error("VF rate is not a number.");if(isNaN(t))throw new Error("OCT frequency is not a number.");if(t<1||t>12)throw new Error("OCT frequency must be greater than 1 and less than 12, as we only calculated accuracy for that range.");if(isNaN(Number(n)))throw new Error("OCT rate is not a number.");vf_rate_sigs=getSignificantDigitCount(r),oct_rate_sigs=getSignificantDigitCount(n);c=Math.min(vf_rate_sigs,oct_rate_sigs)}else{if(isNaN(t))throw new Error("OCT frequency is not a number.");if(t<1||t>12)throw new Error("OCT frequency must be between 1 and 12, as we only calculated accuracy for that range.");if(isNaN(Number(n)))throw new Error("OCT rate is not a number.");a=!0;var c=getSignificantDigitCount(n)}else{if(isNaN(e))throw new Error("VF frequency is not a number.");if(e<1||e>12)throw new Error("VF frequency must be between 1 and 12, as we only calculated accuracy for that range.");if(isNaN(Number(r)))throw new Error("VF rate is not a number.");o=!0;var c=getSignificantDigitCount(r)}var i=calculateAccuracy(e,t,r,n),s=i[0],u=i[1],l=i[2],f=i[3],w=i[4];c<2?(s=s.toPrecision(c),s=Number(s).toFixed(0),l=l.toPrecision(c),l=Number(l).toFixed(0),w=w.toPrecision(c),w=Number(w).toFixed(0)):(s=s.toPrecision(c),l=l.toPrecision(c),w=w.toPrecision(c));var h=document.getElementById("accuracyTable"),m=document.getElementById("pctTable");o?(h.rows[1].cells[0].innerHTML=s,h.rows[1].cells[1].innerHTML="",h.rows[1].cells[2].innerHTML="",m.rows[1].cells[0].innerHTML=u.toFixed(1),m.rows[1].cells[1].innerHTML=""):a?(h.rows[1].cells[0].innerHTML="",h.rows[1].cells[1].innerHTML=l,h.rows[1].cells[2].innerHTML="",m.rows[1].cells[0].innerHTML="",m.rows[1].cells[1].innerHTML=f.toFixed(1)):(h.rows[1].cells[0].innerHTML=s,h.rows[1].cells[1].innerHTML=l,h.rows[1].cells[2].innerHTML=w,m.rows[1].cells[0].innerHTML=u.toFixed(1),m.rows[1].cells[1].innerHTML=f.toFixed(1))}window.onerror=function(e){return alert(e),!0};</script> </article> </div> </div> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="/assets/js/common.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> </body> </html>